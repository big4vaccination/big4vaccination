{% extends 'base.html' %}

{% block content %}

    <section class="page-section bg-dark text-white" id="about">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="text-white mt-0">We've got what you need!</h2>
                    <hr class="divider light my-4">
                    <p class="mb-4">Find your special GPs in VIC</p>
                    <!-- <p class="mb-4"> Catch-up vaccinations</p> -->
                </div>
            </div>
        </div>
    </section>

    <section>
        <body onload="initialize()">
        <div id="map"></div>
        <script>

            function initMap() {

                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 8,
                    center: {lat: -37.8136, lng: 144.9631}
                });

                // Create an array of alphabetical characters used to label the markers.
                var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

                // Add some markers to the map.
                // Note: The code uses the JavaScript Array.prototype.map() method to
                // create an array of markers based on a given "locations" array.
                // The map() method here has nothing to do with the Google Maps API.
                var markers = locations.map(function (location, i) {
                    return new google.maps.Marker({
                        position: location,
                        label: labels[i % labels.length]
                    });
                });

                // Add a marker clusterer to manage the markers.
                var markerCluster = new MarkerClusterer(map, markers,
                    {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});
            }

            var locations = {{ data|safe }}
        </script>
        <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
        </script>
        <script async defer
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAeiQyrCKTbUfD6wEk9yKJxS-ZSqlxFqLQ&callback=initMap"
                type="text/javascript"></script>
        </body>
    </section>

    <style>
        #map {
            width: 100%;
            height: 400px;
            background-color: grey;
        }
    </style>


{% endblock content %}