{% extends 'base.html' %}

{% block content %}


    <!-- <!doctype html> -->
    <html>
 

    <body>
	<!-- <div class="image-7"> -->
	<!-- <img src="/static/img/au_free.jpg" alt="snow" style="width:100%;height:100%;"> -->
	<!-- </div> -->
	 <section class="page-section bg-white text-dark">
         <div class="container">
            <div class="row justify-content-center">
			 <div class="col-md-auto text-center">
				<br>
				<br>
				<h5 class="h5">Where to get free vaccines for immigrants</h5>
					<br>
                    <h5>All city councils provide free vaccines for children</h5>
                </div>
            </div>
        </div>
    </section>
 
   

    <!-- <center ><h4>Australian Vaccine Schedule</h4></center> -->
    <section id="services_">
        <div class="col-md-auto text-center">
            <h5 class="h5">City Councils</h5>
            <br>
        </div>
    </section>
	<form method="POST" action="">
	{% csrf_token %}
	{{ form.as_p }}
    <input type="text" name="textfield">
    <button type="submit">Submit</button>
	</form>
    <div class="col-md-auto text-center">
        <table id="table">

        </table>
        <br>
        <!-- <section> -->
            <!-- <div class="col-md-auto text-center"> -->
                <!-- <h5 class="h5">Vaccine and related diseases are shown below</h5> -->
                <!-- <br> -->
            <!-- </div> -->
        <!-- </section> -->
    </div>
    <!-- <div class="col-md-auto text-center"> -->
        <!-- <table id="disease"> -->

        <!-- </table> -->
    <!-- </div> -->
    <br>
    <section class="page-section-2">
        <div class="container-fluid text-center">
            <!-- <div class="row jumbotron"> -->
            <div class="col-12">
                <!-- <h2 class="display-5">It would be useful for you to see the comparison table of vaccine schedules between your home country and Australia.</h2> -->
                <p class="lead">
                    It would be useful for you to see the comparison table of vaccine schedules between your home
                    country and Australia.
                </p>
                <a class="btn btn-primary btn-lg js-scroll-trigger" href="{% url 'compare_schedule' %}">Compare
                    Schedules</a>
                </a>
            </div>
        </div>

    </section>
    <!-- <div class="col-md-auto text-center"> -->
    <!-- <h5><center>It would be useful for you to see the comparison table of vaccine schedules between your home country and Australia.</center></h5> -->
    <!-- <!-- <h5><center>Click to button to view schedule</center></h5> -->
    <!-- <button type="button" class="btn btn-outline-primary btn-lg"><a href="{% url 'au_schedule' %}">View -->
    <!-- schedule</a></button> -->
    <!-- </div> -->

    <script>
        let table_data = {{ data|safe }}
            console.log(table_data)

     

        function generateTableHead(table, data) {
            let thead = table.createTHead();
            let row = thead.insertRow();
            for (let key of data) {
                let th = document.createElement("th")
                let text = document.createTextNode(key)
                th.appendChild(text)
                row.appendChild(th)
            }
        }


		function generateTable(table, data) {
            for (let element of data) {
                let index = 0;
                let row = table.insertRow();
                for (let key in element) {
                    let cell = row.insertCell()
                    let text = document.createTextNode(element[key])
                    if (index % 4 == 3) {
                        var a = document.createElement('a')
                        a.appendChild(text)
                        a.href = element[key]
                        cell.appendChild(a)
                    } else {
                        cell.appendChild(text)
                    }
                    index++
                }
            }
        }
		
        <!-- function generateTable(table, data) { -->

            <!-- for (let element of data) { -->
                <!-- let row = table.insertRow(); -->
                <!-- for (let key in element) { -->
                    <!-- let cell = row.insertCell() -->
                    <!-- let text = document.createTextNode(element[key]) -->
                    <!-- cell.appendChild(text) -->

                <!-- } -->
            <!-- } -->
        <!-- } -->

        let table = document.querySelector("#table");
        let data = Object.keys(table_data[0]);

        generateTable(table, table_data)
        generateTableHead(table, data)

       


    </script>
    <script>
        <!--
        document.body.innerHTML.replace(/y/g, "$"); -->
        <!--
        var elmOperator = $("#" + elm.attr('table_au').replace('y', '$$')); -->
        <!--
        var temp = new String('y'); -->
        <!--
        document.write(temp + '<br/>'); -->
        <!--
        temp = temp.replace(/y/g, '$$'); -->
        <!--
        document.write(temp) -->
        <!--
        var mystr = 'y'; -->
        <!--
        var newstr = mystr.replace(/y/g, "&#x2714"); -->
        <!--
        document.getElementById("table_au").innerHTML = newstr; -->
        <!-- document.write(newstr); -->

    </script>
    <br>
    <script>
        <!--
        document.body.innerHTML.replace(/y/g, "$"); -->
        <!--
        var elmOperator = $("#" + elm.attr('table_au').replace('y', '$$')); -->
        <!--
        var temp = new String('y'); -->
        <!--
        document.write(temp + '<br/>'); -->
        <!--
        temp = temp.replace(/y/g, '$$'); -->
        <!--
        document.write(temp) -->
        <!--
        var mystr = 'y'; -->
        <!--
        var newstr = mystr.replace(/y/g, "&#x2714"); -->
        <!--
        document.getElementById("table_au").innerHTML = newstr; -->
        <!-- document.write(newstr); -->

    </script>


    </body>
    <style>
        table {
            border-collapse: collapse;
            border-spacing: 0;
            width: 98%;
            #height: 100%;
            border: 1px solid #ddd;
            line-height: 1.3;
        }

        tr {
            display: table-row;
            vertical-align: left;
            border-color: inherit;
        }

        th, td {
            text-align: center;
            padding: 0.05px;
            border: 01px solid black;
        }

        th:first-child, td:first-child {
            text-align: left;

        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .fa-check {
            color: green;
        }

        .fa-remove {
            color: red;
        }
    </style>
    </html>

{% endblock content %}